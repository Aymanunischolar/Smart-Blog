<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">    <title>Smart Blog | AI-Powered Social Feed</title>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/navigation.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/feed.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">



</head>
<body>

    <div class="progress-container">
        <div class="progress-bar" id="scrollBar"></div>
    </div>

    <div class="container">
        <header>
            <div class="header-top">
                <div class="logo" onclick="showFeed()" style="cursor:pointer;">
                    <i class="fa-solid fa-robot"></i> SMART BLOG
                </div>

                <button onclick="showCreate()" class="btn-create-nav">
                    <i class="fa-solid fa-plus"></i> Create Post
                </button>
            </div>

<nav id="feed-nav" class="category-nav">

    <button id="nav-trending" class="nav-btn" onclick="filterPosts('trending')">
    <i class="fa-solid fa-fire"></i> Trending
</button>
    <button id="nav-all" class="nav-btn active" onclick="filterPosts('all')">All</button>



    <button id="nav-Jobs" class="nav-btn" onclick="filterPosts('Jobs')">Jobs</button>
    <button id="nav-Education" class="nav-btn" onclick="filterPosts('Education')">Education</button>

    <div class="dropdown">
        <button class="nav-btn dropbtn" id="moreBtn">More <i class="fa-solid fa-caret-down"></i></button>
        <div class="dropdown-content">
            <button id="nav-Tech" class="dropdown-item" onclick="filterPosts('Tech')">Tech</button>
            <button id="nav-Social" class="dropdown-item" onclick="filterPosts('Social')">Social</button>
            <button id="nav-Travel" class="dropdown-item" onclick="filterPosts('Travel')">Travel</button>
        </div>
    </div>
</nav>
        </header>

        <div id="view-feed">
            <div id="blogFeed"></div>
            <div id="infinite-scroll-trigger"></div>
            <div id="loading-animation" class="loading-indicator" style="display: none;">
                <div class="skeleton-card">
                    <div class="skeleton-line skeleton-title"></div>
                    <div class="skeleton-line skeleton-body"></div>
                </div>
            </div>
        </div>

        <div id="view-create" style="display: none;">
            <div class="editor-panel">
                <div class="editor-header">
                    <h2>Write New Story</h2>
                    <button onclick="showFeed()" class="btn-close-editor">
                        <i class="fa-solid fa-xmark"></i> Cancel
                    </button>
                </div>

                <div class="input-group">
                    <input type="text" id="postTitle" placeholder="Post Title">
                    <select id="postCategory" class="category-select">
                        <option value="" disabled selected>Select Category *</option>
                        <option value="Social">Social</option>
                        <option value="Jobs">Jobs</option>
                        <option value="Education">Education</option>
                        <option value="Tech">Tech</option>
                        <option value="Health">Health</option>
                        <option value="Finance">Finance</option>
                        <option value="Travel">Travel</option>
                    </select>
                </div>

                <div class="input-group">
                    <input type="text" id="postHashtags" placeholder="Hashtags (e.g. #coding #life)">
                </div>

                <div class="input-group" style="flex-direction: column; gap: 0;">
<div class="toolbar editor-toolbar" style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; overflow-x: auto !important; width: 100% !important; gap: 8px !important; padding: 10px !important; background: #27272a !important; -webkit-overflow-scrolling: touch;">

    <button type="button" class="editor-btn" onclick="execCmd('bold')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-bold"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('italic')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-italic"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('underline')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-underline"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('strikeThrough')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-strikethrough"></i></button>

    <button type="button" class="editor-btn" onclick="execCmd('insertUnorderedList')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-list-ul"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('insertOrderedList')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-list-ol"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('formatBlock', 'H3')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-heading"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('formatBlock', 'BLOCKQUOTE')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-quote-left"></i></button>

    <button type="button" class="editor-btn" onclick="insertLink()" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-link"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('undo')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-rotate-left"></i></button>
    <button type="button" class="editor-btn" onclick="execCmd('redo')" style="flex: 0 0 auto !important; width: 44px !important; height: 44px !important; display: inline-flex !important; align-items: center !important; justify-content: center !important;"><i class="fa-solid fa-rotate-right"></i></button>
</div>
                    <div id="postContent" contenteditable="true" class="rich-editor" placeholder="Tell your story..."></div>
                </div>

                <div class="actions">
                    <button onclick="openAIModal()" class="btn-ai" title="Ask AI Assistant">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> AI Assist
                    </button>
                    <span id="statusMsg" class="status"></span>
                    <button onclick="handlePost()" id="btnPublish" class="btn-publish">Publish Post</button>
                </div>
            </div>
        </div>
    </div>

    <div id="aiModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAIModal()">&times;</span>
            <h3>AI Assistant</h3>
            <p>Describe your idea and let the AI generate your draft.</p>
            <textarea id="aiPromptInput" placeholder="Ex: A post about tech trends in 2026..."></textarea>
            <button onclick="submitAIPrompt()" class="btn-generate">Generate Magic</button>
            <div id="aiLoading" style="display:none;">
                <i class="fa-solid fa-spinner fa-spin"></i> Generating...
            </div>
        </div>
    </div>

    <div id="reportModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeReportModal()">&times;</span>
            <h3 style="color:var(--danger);">Report Post</h3>
            <p>Help us keep the community safe.</p>
            <select id="reportReason" class="category-select" style="width:100%;">
                <option value="spam">It's spam</option>
                <option value="harassment">Hate speech or harassment</option>
                <option value="inappropriate">Inappropriate content</option>
                <option value="misinformation">Misinformation</option>
            </select>
            <button onclick="submitReport()" class="btn-generate" style="background:var(--danger); margin-top:15px;">Submit Report</button>
        </div>
    </div>
    <div id="toast"></div>
    <button id="backToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script src="{{ url_for('static', filename='js/api.js') }}"></script>
<script src="{{ url_for('static', filename='js/observers.js') }}"></script>
<script src="{{ url_for('static', filename='js/ui.js') }}"></script>

</body>
</html>